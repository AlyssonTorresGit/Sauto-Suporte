<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload</title>
    <link rel="stylesheet" href="upload.css">
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.4/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-DQvkBjpPgn7RC31MCQoOeC9TI2kdqa4+BSgNMNj8v77fdC77Kj5zpWFTJaaAoMbC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.4/dist/js/bootstrap.bundle.min.js" integrity="sha384-YUe2LzesAfftltw+PEaao2tjU/QATaW/rOitAq67e0CT0Zi2VVRL0oC4+gAaeBKu" crossorigin="anonymous">

    </script>
</head>
<body>
    <h2 class="uploadhtml">Fazer Upload</h2>
    <form action="upload.php" class="upload" method="POST" enctype="multipart/form-data">
        <div  class="folha">
            <label class="tilulo" for="ititulo">Título</label>
               <input id="ititulo" type="text" name="titulo" placeholder="Título" required><br>
            <label for="idesc">Descrição</label>
                <textarea rows="10" id="idesc" name="descricao" placeholder="Descrição"></textarea><br>
            <label for="iresol">Resolução</label>
                <textarea rows="10" id="iresol" name="resolucao" placeholder="Resolução"></textarea><br>
            <input type="file" name="imagem" accept="image/*" id="imagemInput" required><br>
        </div>

        <div class="botoes-upload">
          <button class="btn-salvar" type="submit">
          <img src="imagens-icones/salvar.JPG" alt="salvar">
          </button>
          <a href="lista.php" class="btn-consultar">
              <img src="imagens-icones/consultar.JPG" alt="consultar">
          </a>
          </div>

         <div id="preview-imagem" style="display: none; margin-top: 10px;">
            <p>Prévia da Imagem:</p>
            <img class="imagem" id="preview" src="" alt="Prévia da imagem" style="max-width: 600px; border: 1px solid #000; ">
        </div>

        

    </form>
    <script>
        document.getElementById('imagemInput').addEventListener('change', function(event) {
            const file = event.target.files[0]; // Obtém o arquivo selecionado
            
            if (file) {
                const reader = new FileReader(); // Cria um leitor de arquivos
                reader.onload = function(e) {
                    document.getElementById('preview').src = e.target.result; // Define a prévia da imagem
                    document.getElementById('preview-imagem').style.display = 'block'; // Mostra o container
                };
                reader.readAsDataURL(file); // Converte a imagem para base64
            }
        });

        function limparPreview() {
            document.getElementById('preview').src = ""; // Remove a imagem da pré-visualização
            document.getElementById('preview-imagem').style.display = "none"; // Esconde o container
        }
        
    </script>
</body>
</html>